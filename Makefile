#=======================================================================
# Makefile for LowRISC tag tests
#-----------------------------------------------------------------------

default: all

#--------------------------------------------------------------------
# Build rules
#--------------------------------------------------------------------

RISCV_PREFIX=riscv64-unknown-elf-
RISCV_GCC = $(RISCV_PREFIX)gcc
RISCV_GCC_OPTS = -I.

#--------------------------------------------------------------------
# Build targets
#--------------------------------------------------------------------

tag_tests = \
	tag_ld_st \
	parity \
	memory_sweep \

#--------------------------------------------------------------------
# Build
#--------------------------------------------------------------------

$(tag_tests): %:tests/%.cc env/tag.h
	$(RISCV_GCC) $(RISCV_GCC_OPTS) $< -o $@

all: $(tag_tests)

clean:
	rm -fr $(tag_tests)
